# 喧喧客户端测试

测试场景：
1. 登录场景1：常用场景，80% 用户在 8:10 ~ 8:50 随机登录，10 分钟之内陆续登录；
2. 登录场景2：瞬间用户登录测试，10 秒钟大量用户同时登入系统；
3. 登录场景3：用户登录数目逐渐增加的情况，每隔 10 秒钟登录一个用户；
4. 大量一对一聊天；
5. 全体成员讨论组聊天；

测试程序要求：
1. 尽可能支持多的用户测试，提高测试脚本执行效率，[使用 nodejs 子进程来启动多个测试程序](http://www.runoob.com/nodejs/nodejs-process.html)；
2. 测试程序能够输出容易阅读的日志，优化日志的内容，记录当前连接的用户数目，输出一份 json 格式的日志；
3. 测试程序参数定义明确， `--name=value`，`-n value`

脚本：
1. 初始化系统用户：调用 `chat/createUser` 和 `chat/createGroup` 来在系统中创建大量用于测试的账号。
2. 测试脚本；
3. 管理测试进程脚本；

测试程序参数：
1. `--server, -s`： 测试服务器地址；
2. `--account, -a`： 测试账号 `--acount=test$`；
3. `--password, -p`：测试账号密码
4. `--range, -r`：登录的用户账号范围 `1,100`
5. `--login, -l`：登录场景，`1,2,3` 分别代表上面三种测试场景
6. `--one2one, -o`：是否测试大量一对一聊天；
7. `--group, -g`：是否测试全体成员讨论组聊天；
8. `--login1, -l1`：设置登录场景1的最晚登录时间，默认 10 分钟（单位秒），例如 `--login1=600`
9. `--login2, -l2`：设置登录场景2的瞬时登录可用时间，默认 10 秒中（单位秒），例如 `--login2=10`
10. `--login3, -l3`：设置登录场景3每次登录时间间隔，默认 10 秒中（单位秒），例如 `--login3=10`
11. `--reconnect, -R`：调用的用户是否立即重新登录，还是放弃

测试用户：
1. 账号密码
2. 活跃程度，`0~1`，如果是 `0`，表示用户在系统里面不发送消息，如果是 `1`，表示每次可以发送消息时必发送消息；